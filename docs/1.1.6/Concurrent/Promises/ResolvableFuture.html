<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Concurrent::Promises::ResolvableFuture
  
    &mdash; Concurrent Ruby
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Concurrent::Promises::ResolvableFuture";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Promises.html" title="Concurrent::Promises (module)">Promises</a></span></span>
     &raquo; 
    <span class="title">ResolvableFuture</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Concurrent::Promises::ResolvableFuture
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../Synchronization/Object.html" title="Concurrent::Synchronization::Object (class)">Synchronization::Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="AbstractEventFuture.html" title="Concurrent::Promises::AbstractEventFuture (class)">AbstractEventFuture</a></span></li>
          
            <li class="next"><span class='object_link'><a href="Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></li>
          
            <li class="next">Concurrent::Promises::ResolvableFuture</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Resolvable.html" title="Concurrent::Promises::Resolvable (module)">Resolvable</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/concurrent-ruby/concurrent/promises.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>A Future which can be resolved by user.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#evaluate_to-instance_method" title="#evaluate_to (instance method)">#<strong>evaluate_to</strong>(*args) {|*args| ... } &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Evaluates the block and sets its result as future&#39;s value fulfilling, if the block raises an exception the future rejects with it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#evaluate_to!-instance_method" title="#evaluate_to! (instance method)">#<strong>evaluate_to!</strong>(*args) {|*args| ... } &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Evaluates the block and sets its result as future&#39;s value fulfilling, if the block raises an exception the future rejects with it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fulfill-instance_method" title="#fulfill (instance method)">#<strong>fulfill</strong>(value, raise_on_reassign = true, reserved = false)  &#x21d2; self, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Makes the future fulfilled with <code>value</code>, which triggers all dependent futures.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reason-instance_method" title="#reason (instance method)">#<strong>reason</strong>(timeout = nil, timeout_value = nil, resolve_on_timeout = nil)  &#x21d2; Exception, timeout_value, nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Behaves as <span class='object_link'><a href="Future.html#reason-instance_method" title="Concurrent::Promises::Future#reason (method)">Future#reason</a></span> but has one additional optional argument resolve_on_timeout.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reject-instance_method" title="#reject (instance method)">#<strong>reject</strong>(reason, raise_on_reassign = true, reserved = false)  &#x21d2; self, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Makes the future rejected with <code>reason</code>, which triggers all dependent futures.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve-instance_method" title="#resolve (instance method)">#<strong>resolve</strong>(fulfilled = true, value = nil, reason = nil, raise_on_reassign = true, reserved = false)  &#x21d2; self, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Makes the future resolved with result of triplet <code>fulfilled?</code>, <code>value</code>, <code>reason</code>, which triggers all dependent futures.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#result-instance_method" title="#result (instance method)">#<strong>result</strong>(timeout = nil, resolve_on_timeout = nil)  &#x21d2; ::Array(Boolean, Object, Exception), nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Behaves as <span class='object_link'><a href="Future.html#result-instance_method" title="Concurrent::Promises::Future#result (method)">Future#result</a></span> but has one additional optional argument resolve_on_timeout.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#value-instance_method" title="#value (instance method)">#<strong>value</strong>(timeout = nil, timeout_value = nil, resolve_on_timeout = nil)  &#x21d2; Object, timeout_value, nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Behaves as <span class='object_link'><a href="Future.html#value-instance_method" title="Concurrent::Promises::Future#value (method)">Future#value</a></span> but has one additional optional argument resolve_on_timeout.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#value!-instance_method" title="#value! (instance method)">#<strong>value!</strong>(timeout = nil, timeout_value = nil, resolve_on_timeout = nil)  &#x21d2; Object, timeout_value, nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Behaves as <span class='object_link'><a href="Future.html#value!-instance_method" title="Concurrent::Promises::Future#value! (method)">Future#value!</a></span> but has one additional optional argument resolve_on_timeout.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wait-instance_method" title="#wait (instance method)">#<strong>wait</strong>(timeout = nil, resolve_on_timeout = nil)  &#x21d2; self, true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Behaves as <span class='object_link'><a href="AbstractEventFuture.html#wait-instance_method" title="Concurrent::Promises::AbstractEventFuture#wait (method)">AbstractEventFuture#wait</a></span> but has one additional optional argument resolve_on_timeout.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wait!-instance_method" title="#wait! (instance method)">#<strong>wait!</strong>(timeout = nil, resolve_on_timeout = nil)  &#x21d2; self, true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Behaves as <span class='object_link'><a href="Future.html#wait!-instance_method" title="Concurrent::Promises::Future#wait! (method)">Future#wait!</a></span> but has one additional optional argument resolve_on_timeout.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_hidden_resolvable-instance_method" title="#with_hidden_resolvable (instance method)">#<strong>with_hidden_resolvable</strong>  &#x21d2; Future </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates new future wrapping receiver, effectively hiding the resolve method and similar.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#release-instance_method" title="#release (instance method)">#<strong>release</strong>  &#x21d2; true, false </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Resolvable.html#release-instance_method" title="Concurrent::Promises::Resolvable#release (method)">Resolvable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>On successful release of the reservation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reserve-instance_method" title="#reserve (instance method)">#<strong>reserve</strong>  &#x21d2; true, false </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Resolvable.html#reserve-instance_method" title="Concurrent::Promises::Resolvable#reserve (method)">Resolvable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Reserves the event or future, if reserved others are prevented from resolving it.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="evaluate_to-instance_method">
  
    #<strong>evaluate_to</strong>(*args) {|*args| ... } &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Evaluates the block and sets its result as future&#39;s value fulfilling, if the block raises
an exception the future rejects with it.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>*args</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>to the block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>value</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1384
1385
1386</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1384</span>

<span class='kw'>def</span> <span class='id identifier rubyid_evaluate_to'>evaluate_to</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_promise'>promise</span><span class='period'>.</span><span class='id identifier rubyid_evaluate_to'>evaluate_to</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="evaluate_to!-instance_method">
  
    #<strong>evaluate_to!</strong>(*args) {|*args| ... } &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Evaluates the block and sets its result as future&#39;s value fulfilling, if the block raises
an exception the future rejects with it.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>*args</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>to the block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>value</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Exception</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>also raise reason on rejection.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1395
1396
1397</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1395</span>

<span class='kw'>def</span> <span class='id identifier rubyid_evaluate_to!'>evaluate_to!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_promise'>promise</span><span class='period'>.</span><span class='id identifier rubyid_evaluate_to'>evaluate_to</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_wait!'>wait!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fulfill-instance_method">
  
    #<strong>fulfill</strong>(value, raise_on_reassign = true, reserved = false)  &#x21d2; <tt>self</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Makes the future fulfilled with <code>value</code>,
which triggers all dependent futures.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>raise_on_reassign</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>should method raise exception if already resolved</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>reserved</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Set to true if the resolvable is <span class='object_link'><a href="Resolvable.html#reserve-instance_method" title="Concurrent::Promises::Resolvable#reserve (method)">Concurrent::Promises::Resolvable#reserve</a></span>d by you,
marks resolution of reserved resolvable events and futures explicitly.
Advanced feature, ignore unless you use <span class='object_link'><a href="Resolvable.html#reserve-instance_method" title="Concurrent::Promises::Resolvable#reserve (method)">Concurrent::Promises::Resolvable#reserve</a></span> from edge.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>false is returner when raise_on_reassign is false and the receiver
is already resolved.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1364
1365
1366</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1364</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fulfill'>fulfill</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_raise_on_reassign'>raise_on_reassign</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_reserved'>reserved</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resolve_with'>resolve_with</span> <span class='const'>Fulfilled</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_raise_on_reassign'>raise_on_reassign</span><span class='comma'>,</span> <span class='id identifier rubyid_reserved'>reserved</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reason-instance_method">
  
    #<strong>reason</strong>(timeout = nil, timeout_value = nil, resolve_on_timeout = nil)  &#x21d2; <tt>Exception</tt>, <tt>timeout_value</tt>, <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Behaves as <span class='object_link'><a href="Future.html#reason-instance_method" title="Concurrent::Promises::Future#reason (method)">Future#reason</a></span> but has one additional optional argument
resolve_on_timeout.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resolve_on_timeout</span>
      
      
        <span class='type'>(<tt>::Array(true, Object, nil)</tt>, <tt>::Array(false, nil, Exception)</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If it times out and the argument is not nil it will also resolve the future
to the provided resolution.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Exception</tt>, <tt>timeout_value</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Future.html#reason-instance_method" title="Concurrent::Promises::Future#reason (method)">Future#reason</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1492
1493
1494
1495
1496
1497
1498
1499
1500
1501
1502
1503
1504
1505</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1492</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reason'>reason</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout_value'>timeout_value</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_wait_until_resolved'>wait_until_resolved</span> <span class='id identifier rubyid_timeout'>timeout</span>
    <span class='id identifier rubyid_internal_state'>internal_state</span><span class='period'>.</span><span class='id identifier rubyid_reason'>reason</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
        <span class='comment'># if it fails to resolve it was resolved in the meantime
</span>        <span class='comment'># so return value as if there was no timeout
</span>        <span class='kw'>return</span> <span class='id identifier rubyid_internal_state'>internal_state</span><span class='period'>.</span><span class='id identifier rubyid_reason'>reason</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_timeout_value'>timeout_value</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reject-instance_method">
  
    #<strong>reject</strong>(reason, raise_on_reassign = true, reserved = false)  &#x21d2; <tt>self</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Makes the future rejected with <code>reason</code>,
which triggers all dependent futures.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>reason</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>raise_on_reassign</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>should method raise exception if already resolved</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>reserved</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Set to true if the resolvable is <span class='object_link'><a href="Resolvable.html#reserve-instance_method" title="Concurrent::Promises::Resolvable#reserve (method)">Concurrent::Promises::Resolvable#reserve</a></span>d by you,
marks resolution of reserved resolvable events and futures explicitly.
Advanced feature, ignore unless you use <span class='object_link'><a href="Resolvable.html#reserve-instance_method" title="Concurrent::Promises::Resolvable#reserve (method)">Concurrent::Promises::Resolvable#reserve</a></span> from edge.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>false is returner when raise_on_reassign is false and the receiver
is already resolved.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1374
1375
1376</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1374</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='id identifier rubyid_reason'>reason</span><span class='comma'>,</span> <span class='id identifier rubyid_raise_on_reassign'>raise_on_reassign</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_reserved'>reserved</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resolve_with'>resolve_with</span> <span class='const'>Rejected</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_reason'>reason</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_raise_on_reassign'>raise_on_reassign</span><span class='comma'>,</span> <span class='id identifier rubyid_reserved'>reserved</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve-instance_method">
  
    #<strong>resolve</strong>(fulfilled = true, value = nil, reason = nil, raise_on_reassign = true, reserved = false)  &#x21d2; <tt>self</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Makes the future resolved with result of triplet <code>fulfilled?</code>, <code>value</code>, <code>reason</code>,
which triggers all dependent futures.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>fulfilled</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>reason</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>raise_on_reassign</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>should method raise exception if already resolved</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>reserved</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Set to true if the resolvable is <span class='object_link'><a href="Resolvable.html#reserve-instance_method" title="Concurrent::Promises::Resolvable#reserve (method)">Concurrent::Promises::Resolvable#reserve</a></span>d by you,
marks resolution of reserved resolvable events and futures explicitly.
Advanced feature, ignore unless you use <span class='object_link'><a href="Resolvable.html#reserve-instance_method" title="Concurrent::Promises::Resolvable#reserve (method)">Concurrent::Promises::Resolvable#reserve</a></span> from edge.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>false is returner when raise_on_reassign is false and the receiver
is already resolved.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1354
1355
1356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1354</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='id identifier rubyid_fulfilled'>fulfilled</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_reason'>reason</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_raise_on_reassign'>raise_on_reassign</span> <span class='op'>=</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_reserved'>reserved</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resolve_with'>resolve_with</span><span class='lparen'>(</span><span class='id identifier rubyid_fulfilled'>fulfilled</span> <span class='op'>?</span> <span class='const'>Fulfilled</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='const'>Rejected</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_reason'>reason</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_raise_on_reassign'>raise_on_reassign</span><span class='comma'>,</span> <span class='id identifier rubyid_reserved'>reserved</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="result-instance_method">
  
    #<strong>result</strong>(timeout = nil, resolve_on_timeout = nil)  &#x21d2; <tt>::Array(Boolean, Object, Exception)</tt>, <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Behaves as <span class='object_link'><a href="Future.html#result-instance_method" title="Concurrent::Promises::Future#result (method)">Future#result</a></span> but has one additional optional argument
resolve_on_timeout.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resolve_on_timeout</span>
      
      
        <span class='type'>(<tt>::Array(true, Object, nil)</tt>, <tt>::Array(false, nil, Exception)</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If it times out and the argument is not nil it will also resolve the future
to the provided resolution.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>::Array(Boolean, Object, Exception)</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Future.html#result-instance_method" title="Concurrent::Promises::Future#result (method)">Future#result</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1513
1514
1515
1516
1517
1518
1519
1520
1521
1522
1523
1524
1525
1526</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1513</span>

<span class='kw'>def</span> <span class='id identifier rubyid_result'>result</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_wait_until_resolved'>wait_until_resolved</span> <span class='id identifier rubyid_timeout'>timeout</span>
    <span class='id identifier rubyid_internal_state'>internal_state</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
        <span class='comment'># if it fails to resolve it was resolved in the meantime
</span>        <span class='comment'># so return value as if there was no timeout
</span>        <span class='id identifier rubyid_internal_state'>internal_state</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='comment'># otherwise returns nil
</span>  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value-instance_method">
  
    #<strong>value</strong>(timeout = nil, timeout_value = nil, resolve_on_timeout = nil)  &#x21d2; <tt>Object</tt>, <tt>timeout_value</tt>, <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Behaves as <span class='object_link'><a href="Future.html#value-instance_method" title="Concurrent::Promises::Future#value (method)">Future#value</a></span> but has one additional optional argument
resolve_on_timeout.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resolve_on_timeout</span>
      
      
        <span class='type'>(<tt>::Array(true, Object, nil)</tt>, <tt>::Array(false, nil, Exception)</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If it times out and the argument is not nil it will also resolve the future
to the provided resolution.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>timeout_value</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Future.html#value-instance_method" title="Concurrent::Promises::Future#value (method)">Future#value</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1448
1449
1450
1451
1452
1453
1454
1455
1456
1457
1458
1459
1460
1461</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1448</span>

<span class='kw'>def</span> <span class='id identifier rubyid_value'>value</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout_value'>timeout_value</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_wait_until_resolved'>wait_until_resolved</span> <span class='id identifier rubyid_timeout'>timeout</span>
    <span class='id identifier rubyid_internal_state'>internal_state</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
        <span class='comment'># if it fails to resolve it was resolved in the meantime
</span>        <span class='comment'># so return value as if there was no timeout
</span>        <span class='kw'>return</span> <span class='id identifier rubyid_internal_state'>internal_state</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_timeout_value'>timeout_value</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value!-instance_method">
  
    #<strong>value!</strong>(timeout = nil, timeout_value = nil, resolve_on_timeout = nil)  &#x21d2; <tt>Object</tt>, <tt>timeout_value</tt>, <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Behaves as <span class='object_link'><a href="Future.html#value!-instance_method" title="Concurrent::Promises::Future#value! (method)">Future#value!</a></span> but has one additional optional argument
resolve_on_timeout.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resolve_on_timeout</span>
      
      
        <span class='type'>(<tt>::Array(true, Object, nil)</tt>, <tt>::Array(false, nil, Exception)</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If it times out and the argument is not nil it will also resolve the future
to the provided resolution.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>timeout_value</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Exception</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><span class='object_link'><a href="#reason-instance_method" title="Concurrent::Promises::ResolvableFuture#reason (method)">#reason</a></span> on rejection</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Future.html#value!-instance_method" title="Concurrent::Promises::Future#value! (method)">Future#value!</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1470
1471
1472
1473
1474
1475
1476
1477
1478
1479
1480
1481
1482
1483
1484</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1470</span>

<span class='kw'>def</span> <span class='id identifier rubyid_value!'>value!</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout_value'>timeout_value</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_wait_until_resolved!'>wait_until_resolved!</span> <span class='id identifier rubyid_timeout'>timeout</span>
    <span class='id identifier rubyid_internal_state'>internal_state</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
        <span class='comment'># if it fails to resolve it was resolved in the meantime
</span>        <span class='comment'># so return value as if there was no timeout
</span>        <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_rejected?'>rejected?</span>
        <span class='kw'>return</span> <span class='id identifier rubyid_internal_state'>internal_state</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_timeout_value'>timeout_value</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="wait-instance_method">
  
    #<strong>wait</strong>(timeout = nil, resolve_on_timeout = nil)  &#x21d2; <tt>self</tt>, <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Behaves as <span class='object_link'><a href="AbstractEventFuture.html#wait-instance_method" title="Concurrent::Promises::AbstractEventFuture#wait (method)">AbstractEventFuture#wait</a></span> but has one additional optional argument
resolve_on_timeout.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resolve_on_timeout</span>
      
      
        <span class='type'>(<tt>::Array(true, Object, nil)</tt>, <tt>::Array(false, nil, Exception)</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If it times out and the argument is not nil it will also resolve the future
to the provided resolution.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>, <tt>true</tt>, <tt>false</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="AbstractEventFuture.html#wait-instance_method" title="Concurrent::Promises::AbstractEventFuture#wait (method)">AbstractEventFuture#wait</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1410
1411
1412
1413
1414
1415
1416
1417
1418</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1410</span>

<span class='kw'>def</span> <span class='id identifier rubyid_wait'>wait</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span><span class='rparen'>)</span> <span class='kw'>or</span> <span class='kw'>if</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span>
                      <span class='comment'># if it fails to resolve it was resolved in the meantime
</span>                      <span class='comment'># so return true as if there was no timeout
</span>                      <span class='op'>!</span><span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
                    <span class='kw'>else</span>
                      <span class='kw'>false</span>
                    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="wait!-instance_method">
  
    #<strong>wait!</strong>(timeout = nil, resolve_on_timeout = nil)  &#x21d2; <tt>self</tt>, <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Behaves as <span class='object_link'><a href="Future.html#wait!-instance_method" title="Concurrent::Promises::Future#wait! (method)">Future#wait!</a></span> but has one additional optional argument
resolve_on_timeout.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resolve_on_timeout</span>
      
      
        <span class='type'>(<tt>::Array(true, Object, nil)</tt>, <tt>::Array(false, nil, Exception)</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If it times out and the argument is not nil it will also resolve the future
to the provided resolution.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>, <tt>true</tt>, <tt>false</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Exception</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><span class='object_link'><a href="#reason-instance_method" title="Concurrent::Promises::ResolvableFuture#reason (method)">#reason</a></span> on rejection</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Future.html#wait!-instance_method" title="Concurrent::Promises::Future#wait! (method)">Future#wait!</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1427
1428
1429
1430
1431
1432
1433
1434
1435
1436
1437
1438
1439
1440</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1427</span>

<span class='kw'>def</span> <span class='id identifier rubyid_wait!'>wait!</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span><span class='rparen'>)</span> <span class='kw'>or</span> <span class='kw'>if</span> <span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span>
                      <span class='kw'>if</span> <span class='id identifier rubyid_resolve'>resolve</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_resolve_on_timeout'>resolve_on_timeout</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
                        <span class='kw'>false</span>
                      <span class='kw'>else</span>
                        <span class='comment'># if it fails to resolve it was resolved in the meantime
</span>                        <span class='comment'># so return true as if there was no timeout
</span>                        <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_rejected?'>rejected?</span>
                        <span class='kw'>true</span>
                      <span class='kw'>end</span>
                    <span class='kw'>else</span>
                      <span class='kw'>false</span>
                    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_hidden_resolvable-instance_method">
  
    #<strong>with_hidden_resolvable</strong>  &#x21d2; <tt><span class='object_link'><a href="Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates new future wrapping receiver, effectively hiding the resolve method and similar.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1531
1532
1533</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby/concurrent/promises.rb', line 1531</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_hidden_resolvable'>with_hidden_resolvable</span>
  <span class='ivar'>@with_hidden_resolvable</span> <span class='op'>||=</span> <span class='const'>FutureWrapperPromise</span><span class='period'>.</span><span class='id identifier rubyid_new_blocked_by1'>new_blocked_by1</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='ivar'>@DefaultExecutor</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_future'>future</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="release-instance_method">
  
    #<strong>release</strong>  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Resolvable.html#release-instance_method" title="Concurrent::Promises::Resolvable#release (method)">Resolvable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns on successful release of the reservation.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>on successful release of the reservation</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reserve-instance_method">
  
    #<strong>reserve</strong>  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Resolvable.html#reserve-instance_method" title="Concurrent::Promises::Resolvable#reserve (method)">Resolvable</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Reserves the event or future, if reserved others are prevented from resolving it.
Advanced feature.
Be careful about the order of reservation to avoid deadlocks,
the method blocks if the future or event is already reserved
until it is released or resolved.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Promises.html" title="Concurrent::Promises (module)">Promises</a></span></span><span class='period'>.</span><span class='id identifier rubyid_resolvable_future'><span class='object_link'><a href="FactoryMethods.html#resolvable_future-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_future (method)">resolvable_future</a></span></span>
<span class='id identifier rubyid_reserved'>reserved</span> <span class='op'>=</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_reserve'>reserve</span>
<span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:val</span><span class='comma'>,</span> <span class='kw'>nil</span> <span class='rbrace'>}</span> <span class='comment'># fails
</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:val</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_reserved'>reserved</span> <span class='comment'># must be called only if reserved</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>on successful reservation</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_blank">yard</a>.
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57940973-1', 'auto');
  ga('send', 'pageview');

</script>

    </div>
  </body>
</html>