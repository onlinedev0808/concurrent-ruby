<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Concurrent::Throttle
  
    &mdash; Concurrent Ruby
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Concurrent::Throttle";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span>
     &raquo; 
    <span class="title">Throttle</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Concurrent::Throttle
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Synchronization/Object.html" title="Concurrent::Synchronization::Object (class)">Synchronization::Object</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Synchronization/Object.html" title="Concurrent::Synchronization::Object (class)">Synchronization::Object</a></span></li>
          
            <li class="next">Concurrent::Throttle</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Promises/FactoryMethods.html" title="Concurrent::Promises::FactoryMethods (module)">Promises::FactoryMethods</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/concurrent-ruby-edge/concurrent/edge/throttle.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p><strong>Edge Features</strong> are under active development and may change frequently.</p>

<ul>
<li>  Deprecations are not added before incompatible changes.</li>
<li>  Edge version: <em>major</em> is always 0, <em>minor</em> bump means incompatible change,
<em>patch</em> bump means compatible change.</li>
<li>  Edge features may also lack tests and documentation.</li>
<li>  Features developed in <code>concurrent-ruby-edge</code> are expected to move
to <code>concurrent-ruby</code> when finalised.</li>
</ul>
</div>
  </div>

<p>A tool managing concurrency level of tasks.
The maximum capacity is set in constructor.
Each acquire will lower the available capacity and release will increase it.
When there is no available capacity the current thread may either be blocked or
an event is returned which will be resolved when capacity becomes available.</p>

<p>The more common usage of the Throttle is with a proxy executor
<code>a_throttle.on(Concurrent.global_io_executor)</code>.
Anything executed on the proxy executor will be throttled and
execute on the given executor. There can be more than one proxy executors.
All abstractions which execute tasks have option to specify executor,
therefore the proxy executor can be injected to any abstraction
throttling its concurrency level.</p>

<p><h2>Examples</h2>

<p><strong>Limiting concurrency level of a concurrently executed block to two</strong> </p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_max_two'>max_two</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'>Throttle</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='int'>2</span>
<span class='comment'># =&gt; #&lt;Concurrent::Throttle:0x000002 capacity available 2 of 2&gt;
</span>
<span class='comment'># used to track concurrency level
</span><span class='id identifier rubyid_concurrency_level'>concurrency_level</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AtomicFixnum.html" title="Concurrent::AtomicFixnum (class)">AtomicFixnum</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="AtomicFixnum.html#initialize-instance_method" title="Concurrent::AtomicFixnum#initialize (method)">new</a></span></span>
<span class='comment'># =&gt; #&lt;Concurrent::AtomicFixnum:0x000003 value:0&gt;
</span><span class='id identifier rubyid_job'>job</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span> <span class='kw'>do</span>
  <span class='comment'># increase the current level at the beginning of the throttled block    
</span>  <span class='id identifier rubyid_concurrency_level'>concurrency_level</span><span class='period'>.</span><span class='id identifier rubyid_increment'>increment</span>
  <span class='comment'># work, takes some time
</span>  <span class='id identifier rubyid_do_stuff'>do_stuff</span>
  <span class='comment'># read the current concurrency level 
</span>  <span class='id identifier rubyid_current_concurrency_level'>current_concurrency_level</span> <span class='op'>=</span> <span class='id identifier rubyid_concurrency_level'>concurrency_level</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
  <span class='comment'># decrement the concurrency level back at the end of the block            
</span>  <span class='id identifier rubyid_concurrency_level'>concurrency_level</span><span class='period'>.</span><span class='id identifier rubyid_decrement'>decrement</span>
  <span class='comment'># return the observed concurrency level 
</span>  <span class='id identifier rubyid_current_concurrency_level'>current_concurrency_level</span>
<span class='kw'>end</span> 

<span class='comment'># create 10 threads running concurrently the jobs
</span><span class='const'><span class='object_link'><a href="Array.html" title="Concurrent::Array (class)">Array</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='kw'>do</span>  
  <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_max_two'>max_two</span><span class='period'>.</span><span class='id identifier rubyid_acquire'>acquire</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_job'>job</span><span class='rparen'>)</span>   
  <span class='kw'>end</span>
<span class='comment'># wait for all the threads to finish and read the observed 
</span><span class='comment'># concurrency level in each of them   
</span><span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:value</span><span class='rparen'>)</span>                         <span class='comment'># =&gt; [2, 2, 1, 1, 1, 2, 2, 2, 2, 1]
</span></code></pre>

<p>Notice that the returned array has no number bigger than 2 therefore 
the concurrency level of the block with the <code>do_stuff</code> was never bigger than 2. </p>

<pre class="code ruby"><code class="ruby"><span class='comment'># runs a block, and returns he observed concurrency level during the execution
</span><span class='kw'>def</span> <span class='id identifier rubyid_monitor_concurrency_level'>monitor_concurrency_level</span><span class='lparen'>(</span><span class='id identifier rubyid_concurrency_level'>concurrency_level</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_concurrency_level'>concurrency_level</span><span class='period'>.</span><span class='id identifier rubyid_increment'>increment</span>
  <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span>
  <span class='id identifier rubyid_current_concurrency_level'>current_concurrency_level</span> <span class='op'>=</span> <span class='id identifier rubyid_concurrency_level'>concurrency_level</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
  <span class='id identifier rubyid_concurrency_level'>concurrency_level</span><span class='period'>.</span><span class='id identifier rubyid_decrement'>decrement</span>
  <span class='comment'># return the observed concurrency level
</span>  <span class='kw'>return</span> <span class='id identifier rubyid_current_concurrency_level'>current_concurrency_level</span> 
<span class='kw'>end</span> 

<span class='id identifier rubyid_throttle'>throttle</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'>Throttle</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='int'>3</span>
<span class='comment'># =&gt; #&lt;Concurrent::Throttle:0x000004 capacity available 3 of 3&gt;
</span><span class='id identifier rubyid_concurrency_level'>concurrency_level</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AtomicFixnum.html" title="Concurrent::AtomicFixnum (class)">AtomicFixnum</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="AtomicFixnum.html#initialize-instance_method" title="Concurrent::AtomicFixnum#initialize (method)">new</a></span></span> 
<span class='comment'># =&gt; #&lt;Concurrent::AtomicFixnum:0x000005 value:0&gt;
</span>
<span class='const'><span class='object_link'><a href="Array.html" title="Concurrent::Array (class)">Array</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
  <span class='comment'># create throttled future
</span>  <span class='id identifier rubyid_throttle'>throttle</span><span class='period'>.</span><span class='id identifier rubyid_future'>future</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
    <span class='id identifier rubyid_monitor_concurrency_level'>monitor_concurrency_level</span><span class='lparen'>(</span><span class='id identifier rubyid_concurrency_level'>concurrency_level</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_do_stuff'>do_stuff</span> <span class='id identifier rubyid_arg'>arg</span> <span class='rbrace'>}</span>  
    <span class='comment'># fulfill with the observed concurrency level
</span>  <span class='kw'>end</span>
<span class='comment'># collect observed concurrency levels   
</span><span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:value!</span><span class='rparen'>)</span>                        <span class='comment'># =&gt; [3, 2, 1, 2, 1, 3, 3, 1, 2, 1]
</span></code></pre>

<p>The concurrency level does not rise above 3.</p>

<p>It works by setting the executor of the future created from the throttle. 
The executor is a proxy executor for the <code>Concurrent::Promises.default_executor</code> 
which can be obtained using <span class='object_link'><a href="#on-instance_method" title="Concurrent::Throttle#on (method)">#on</a></span> method. 
Therefore the above example could be instead more explicitly written as follows</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># ...
</span><span class='const'><span class='object_link'><a href="Array.html" title="Concurrent::Array (class)">Array</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
  <span class='comment'># create throttled future
</span>  <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Promises.html" title="Concurrent::Promises (module)">Promises</a></span></span><span class='period'>.</span><span class='id identifier rubyid_future_on'><span class='object_link'><a href="Promises/FactoryMethods.html#future_on-instance_method" title="Concurrent::Promises::FactoryMethods#future_on (method)">future_on</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_throttle'>throttle</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Promises.html" title="Concurrent::Promises (module)">Promises</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_executor'><span class='object_link'><a href="Promises/FactoryMethods/Configuration.html#default_executor-instance_method" title="Concurrent::Promises::FactoryMethods::Configuration#default_executor (method)">default_executor</a></span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:value!</span><span class='rparen'>)</span> 
</code></pre>

<p>Anything executed on the proxy executor is throttled. 
A throttle can have more proxy executors for different executors, 
all jobs share the same capacity provided by the throttle.</p>

<p>Since the proxy executor becomes the executor of the future, 
any chained futures will also be throttled. 
It can be changed by using different executor.
It the following example the first 2 futures in the chain are throttled, 
the last is not.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_concurrency_level_throttled'>concurrency_level_throttled</span>   <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AtomicFixnum.html" title="Concurrent::AtomicFixnum (class)">AtomicFixnum</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="AtomicFixnum.html#initialize-instance_method" title="Concurrent::AtomicFixnum#initialize (method)">new</a></span></span> 
<span class='id identifier rubyid_concurrency_level_unthrottled'>concurrency_level_unthrottled</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AtomicFixnum.html" title="Concurrent::AtomicFixnum (class)">AtomicFixnum</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="AtomicFixnum.html#initialize-instance_method" title="Concurrent::AtomicFixnum#initialize (method)">new</a></span></span> 
<span class='const'><span class='object_link'><a href="Array.html" title="Concurrent::Array (class)">Array</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
  <span class='id identifier rubyid_throttle'>throttle</span><span class='period'>.</span><span class='id identifier rubyid_future'>future</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span> <span class='kw'>do</span> 
    <span class='id identifier rubyid_monitor_concurrency_level'>monitor_concurrency_level</span><span class='lparen'>(</span><span class='id identifier rubyid_concurrency_level_throttled'>concurrency_level_throttled</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_do_stuff'>do_stuff</span> <span class='rbrace'>}</span> 
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_then'>then</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_v'>v</span><span class='comma'>,</span> <span class='id identifier rubyid_monitor_concurrency_level'>monitor_concurrency_level</span><span class='lparen'>(</span><span class='id identifier rubyid_concurrency_level_throttled'>concurrency_level_throttled</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_do_stuff'>do_stuff</span> <span class='rbrace'>}</span><span class='rbracket'>]</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_then_on'>then_on</span><span class='lparen'>(</span><span class='symbol'>:io</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_l1'>l1</span><span class='comma'>,</span> <span class='id identifier rubyid_l2'>l2</span><span class='op'>|</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_l1'>l1</span><span class='comma'>,</span> <span class='id identifier rubyid_l2'>l2</span><span class='comma'>,</span> <span class='id identifier rubyid_monitor_concurrency_level'>monitor_concurrency_level</span><span class='lparen'>(</span><span class='id identifier rubyid_concurrency_level_unthrottled'>concurrency_level_unthrottled</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='int'>5</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_do_stuff'>do_stuff</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:value!</span><span class='rparen'>)</span> 
<span class='comment'># =&gt; [[3, 3, 7],
</span><span class='comment'>#     [3, 2, 9],
</span><span class='comment'>#     [3, 3, 10],
</span><span class='comment'>#     [3, 3, 6],
</span><span class='comment'>#     [3, 3, 5],
</span><span class='comment'>#     [3, 3, 8],
</span><span class='comment'>#     [3, 3, 3],
</span><span class='comment'>#     [3, 3, 4],
</span><span class='comment'>#     [3, 2, 2],
</span><span class='comment'>#     [3, 1, 1]]
</span></code></pre>

<p>In the output you can see that the first 2 columns do not cross the 3 capacity limit
and the last column which is untroubled does.</p>

<p>TODO (pitr-ch 20-Dec-2018): example with virtual throttled executor, 
throttling only part of promises chain.  </p>

<p><strong>Other abstraction</strong></p>

<p>The proxy executor created with throttle can be used with other abstractions as well 
and combined.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_concurrency_level'>concurrency_level</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AtomicFixnum.html" title="Concurrent::AtomicFixnum (class)">AtomicFixnum</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="AtomicFixnum.html#initialize-instance_method" title="Concurrent::AtomicFixnum#initialize (method)">new</a></span></span> 
<span class='id identifier rubyid_futures'>futures</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Array.html" title="Concurrent::Array (class)">Array</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
  <span class='comment'># create throttled future
</span>  <span class='id identifier rubyid_throttle'>throttle</span><span class='period'>.</span><span class='id identifier rubyid_future'>future</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
    <span class='id identifier rubyid_monitor_concurrency_level'>monitor_concurrency_level</span><span class='lparen'>(</span><span class='id identifier rubyid_concurrency_level'>concurrency_level</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_do_stuff'>do_stuff</span> <span class='id identifier rubyid_arg'>arg</span> <span class='rbrace'>}</span>  
    <span class='comment'># fulfill with the observed concurrency level
</span>  <span class='kw'>end</span>
<span class='kw'>end</span> 
<span class='id identifier rubyid_agents'>agents</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Array.html" title="Concurrent::Array (class)">Array</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
  <span class='id identifier rubyid_agent'>agent</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Agent.html" title="Concurrent::Agent (class)">Agent</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Agent.html#initialize-instance_method" title="Concurrent::Agent#initialize (method)">new</a></span></span> <span class='int'>0</span>
  <span class='comment'># execute agent update on throttled executor
</span>  <span class='id identifier rubyid_agent'>agent</span><span class='period'>.</span><span class='id identifier rubyid_send_via'>send_via</span><span class='lparen'>(</span><span class='id identifier rubyid_throttle'>throttle</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='symbol'>:io</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_monitor_concurrency_level'>monitor_concurrency_level</span><span class='lparen'>(</span><span class='id identifier rubyid_concurrency_level_throttled'>concurrency_level_throttled</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_do_stuff'>do_stuff</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_agent'>agent</span> 
<span class='kw'>end</span> 
<span class='id identifier rubyid_futures'>futures</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:value!</span><span class='rparen'>)</span>                    <span class='comment'># =&gt; [3, 3, 3, 2, 1]
</span><span class='id identifier rubyid_agents'>agents</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_await'>await</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:value</span><span class='rparen'>)</span> 
<span class='comment'># =&gt; [3, 2, 3, 3, 1]
</span></code></pre>

<p>There is no observed concurrency level above 3.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#acquire-instance_method" title="#acquire (instance method)">#<strong>acquire</strong>(timeout = nil) { ... } &#x21d2; Object, self, true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Blocks current thread until there is capacity available in the throttle.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#available_capacity-instance_method" title="#available_capacity (instance method)">#<strong>available_capacity</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The available capacity.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_executor-instance_method" title="#default_executor (instance method)">#<strong>default_executor</strong>  &#x21d2; ExecutorService </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Uses executor provided by <span class='object_link'><a href="#on-instance_method" title="Concurrent::Throttle#on (method)">#on</a></span> therefore all events and futures created using factory methods on this object will be throttled.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(capacity)  &#x21d2; Throttle </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create throttle.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#max_capacity-instance_method" title="#max_capacity (instance method)">#<strong>max_capacity</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The maximum capacity.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on-instance_method" title="#on (instance method)">#<strong>on</strong>(executor = Promises::FactoryMethods.default_executor)  &#x21d2; ExecutorService </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>An executor which wraps given executor and allows to post tasks only as available capacity in the throttle allows.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#release-instance_method" title="#release (instance method)">#<strong>release</strong>  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Releases previously acquired capacity back to Throttle.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
    

    
      (also: #inspect)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Short string representation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#try_acquire-instance_method" title="#try_acquire (instance method)">#<strong>try_acquire</strong>  &#x21d2; true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Tries to acquire capacity from the throttle.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any_event-instance_method" title="#any_event (instance method)">#<strong>any_event</strong>(*futures_and_or_events)  &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#any_event-instance_method" title="Concurrent::Promises::FactoryMethods#any_event (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#any_event_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_event_on (method)">Promises::FactoryMethods#any_event_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any_event_on-instance_method" title="#any_event_on (instance method)">#<strong>any_event_on</strong>(default_executor, *futures_and_or_events)  &#x21d2; Event </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#any_event_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_event_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates new event which becomes resolved after first of the futures_and_or_events resolves.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any_fulfilled_future-instance_method" title="#any_fulfilled_future (instance method)">#<strong>any_fulfilled_future</strong>(*futures_and_or_events)  &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#any_fulfilled_future-instance_method" title="Concurrent::Promises::FactoryMethods#any_fulfilled_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#any_fulfilled_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_fulfilled_future_on (method)">Promises::FactoryMethods#any_fulfilled_future_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any_fulfilled_future_on-instance_method" title="#any_fulfilled_future_on (instance method)">#<strong>any_fulfilled_future_on</strong>(default_executor, *futures_and_or_events)  &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#any_fulfilled_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_fulfilled_future_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates new future which is resolved after first of futures_and_or_events is fulfilled.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any_resolved_future-instance_method" title="#any_resolved_future (instance method)">#<strong>any_resolved_future</strong>(*futures_and_or_events)  &#x21d2; Future </a>
    

    
      (also: #any)
    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#any_resolved_future-instance_method" title="Concurrent::Promises::FactoryMethods#any_resolved_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#any_resolved_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_resolved_future_on (method)">Promises::FactoryMethods#any_resolved_future_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any_resolved_future_on-instance_method" title="#any_resolved_future_on (instance method)">#<strong>any_resolved_future_on</strong>(default_executor, *futures_and_or_events)  &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#any_resolved_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_resolved_future_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates new future which is resolved after first futures_and_or_events is resolved.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delay-instance_method" title="#delay (instance method)">#<strong>delay</strong>(*args, &amp;task)  &#x21d2; Future, Event </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#delay-instance_method" title="Concurrent::Promises::FactoryMethods#delay (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#delay_on-instance_method" title="Concurrent::Promises::FactoryMethods#delay_on (method)">Promises::FactoryMethods#delay_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delay_on-instance_method" title="#delay_on (instance method)">#<strong>delay_on</strong>(default_executor, *args, &amp;task)  &#x21d2; undocumented </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#delay_on-instance_method" title="Concurrent::Promises::FactoryMethods#delay_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates new event or future which is resolved only after it is touched, see AbstractEventFuture#touch.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fulfilled_future-instance_method" title="#fulfilled_future (instance method)">#<strong>fulfilled_future</strong>(value, default_executor = self.default_executor)  &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#fulfilled_future-instance_method" title="Concurrent::Promises::FactoryMethods#fulfilled_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates resolved future with will be fulfilled with the given value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#future-instance_method" title="#future (instance method)">#<strong>future</strong>(*args, &amp;task)  &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#future-instance_method" title="Concurrent::Promises::FactoryMethods#future (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#future_on-instance_method" title="Concurrent::Promises::FactoryMethods#future_on (method)">Promises::FactoryMethods#future_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#future_on-instance_method" title="#future_on (instance method)">#<strong>future_on</strong>(default_executor, *args) {|*args| ... } &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#future_on-instance_method" title="Concurrent::Promises::FactoryMethods#future_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Constructs new Future which will be resolved after block is evaluated on default executor.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#make_future-instance_method" title="#make_future (instance method)">#<strong>make_future</strong>(argument = nil, default_executor = self.default_executor)  &#x21d2; Event, Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#make_future-instance_method" title="Concurrent::Promises::FactoryMethods#make_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>General constructor.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rejected_future-instance_method" title="#rejected_future (instance method)">#<strong>rejected_future</strong>(reason, default_executor = self.default_executor)  &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#rejected_future-instance_method" title="Concurrent::Promises::FactoryMethods#rejected_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates resolved future with will be rejected with the given reason.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolvable_event-instance_method" title="#resolvable_event (instance method)">#<strong>resolvable_event</strong>  &#x21d2; ResolvableEvent </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_event-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_event (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_event_on-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_event_on (method)">Promises::FactoryMethods#resolvable_event_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolvable_event_on-instance_method" title="#resolvable_event_on (instance method)">#<strong>resolvable_event_on</strong>(default_executor = self.default_executor)  &#x21d2; ResolvableEvent </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_event_on-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_event_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Created resolvable event, user is responsible for resolving the event once by <span class='object_link'><a href="Promises/ResolvableEvent.html#resolve-instance_method" title="Concurrent::Promises::ResolvableEvent#resolve (method)">Promises::ResolvableEvent#resolve</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolvable_future-instance_method" title="#resolvable_future (instance method)">#<strong>resolvable_future</strong>  &#x21d2; ResolvableFuture </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_future-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_future_on (method)">Promises::FactoryMethods#resolvable_future_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolvable_future_on-instance_method" title="#resolvable_future_on (instance method)">#<strong>resolvable_future_on</strong>(default_executor = self.default_executor)  &#x21d2; ResolvableFuture </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_future_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates resolvable future, user is responsible for resolving the future once by <span class='object_link'><a href="Promises/ResolvableFuture.html#resolve-instance_method" title="Concurrent::Promises::ResolvableFuture#resolve (method)">Promises::ResolvableFuture#resolve</a></span>, <span class='object_link'><a href="Promises/ResolvableFuture.html#fulfill-instance_method" title="Concurrent::Promises::ResolvableFuture#fulfill (method)">Promises::ResolvableFuture#fulfill</a></span>, or <span class='object_link'><a href="Promises/ResolvableFuture.html#reject-instance_method" title="Concurrent::Promises::ResolvableFuture#reject (method)">Promises::ResolvableFuture#reject</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolved_event-instance_method" title="#resolved_event (instance method)">#<strong>resolved_event</strong>(default_executor = self.default_executor)  &#x21d2; Event </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#resolved_event-instance_method" title="Concurrent::Promises::FactoryMethods#resolved_event (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates resolved event.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolved_future-instance_method" title="#resolved_future (instance method)">#<strong>resolved_future</strong>(fulfilled, value, reason, default_executor = self.default_executor)  &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#resolved_future-instance_method" title="Concurrent::Promises::FactoryMethods#resolved_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates resolved future with will be either fulfilled with the given value or rejection with the given reason.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#schedule-instance_method" title="#schedule (instance method)">#<strong>schedule</strong>(intended_time, *args, &amp;task)  &#x21d2; Future, Event </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#schedule-instance_method" title="Concurrent::Promises::FactoryMethods#schedule (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#schedule_on-instance_method" title="Concurrent::Promises::FactoryMethods#schedule_on (method)">Promises::FactoryMethods#schedule_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#schedule_on-instance_method" title="#schedule_on (instance method)">#<strong>schedule_on</strong>(default_executor, intended_time, *args, &amp;task)  &#x21d2; undocumented </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#schedule_on-instance_method" title="Concurrent::Promises::FactoryMethods#schedule_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates new event or future which is resolved in intended_time.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zip_events-instance_method" title="#zip_events (instance method)">#<strong>zip_events</strong>(*futures_and_or_events)  &#x21d2; Event </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#zip_events-instance_method" title="Concurrent::Promises::FactoryMethods#zip_events (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#zip_events_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_events_on (method)">Promises::FactoryMethods#zip_events_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zip_events_on-instance_method" title="#zip_events_on (instance method)">#<strong>zip_events_on</strong>(default_executor, *futures_and_or_events)  &#x21d2; Event </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#zip_events_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_events_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates new event which is resolved after all futures_and_or_events are resolved.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zip_futures-instance_method" title="#zip_futures (instance method)">#<strong>zip_futures</strong>(*futures_and_or_events)  &#x21d2; Future </a>
    

    
      (also: #zip)
    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_on (method)">Promises::FactoryMethods#zip_futures_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zip_futures_on-instance_method" title="#zip_futures_on (instance method)">#<strong>zip_futures_on</strong>(default_executor, *futures_and_or_events)  &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates new future which is resolved after all futures_and_or_events are resolved.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zip_futures_over-instance_method" title="#zip_futures_over (instance method)">#<strong>zip_futures_over</strong>(enumerable, &amp;future_factory)  &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_over-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_over (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_over_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_over_on (method)">Promises::FactoryMethods#zip_futures_over_on</a></span> with default <code>:io</code> executor supplied.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zip_futures_over_on-instance_method" title="#zip_futures_over_on (instance method)">#<strong>zip_futures_over_on</strong>(default_executor, enumerable) {|element| ... } &#x21d2; Future </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_over_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_over_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates new future which is resolved after all the futures created by future_factory from enumerable elements are resolved.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(capacity)  &#x21d2; <tt><span class='object_link'><a href="" title="Concurrent::Throttle (class)">Throttle</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create throttle.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>capacity</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>How many tasks using this throttle can run at the same time.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35
36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby-edge/concurrent/edge/throttle.rb', line 33</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_capacity'>capacity</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='ivar'>@MaxCapacity</span>            <span class='op'>=</span> <span class='id identifier rubyid_capacity'>capacity</span>
  <span class='ivar'>@Queue</span>                  <span class='op'>=</span> <span class='const'>LockFreeQueue</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@executor_cache</span>         <span class='op'>=</span> <span class='lbracket'>[</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rbracket'>]</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_capacity'>capacity</span> <span class='op'>=</span> <span class='id identifier rubyid_capacity'>capacity</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="acquire-instance_method">
  
    #<strong>acquire</strong>(timeout = nil) { ... } &#x21d2; <tt>Object</tt>, <tt>self</tt>, <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Blocks current thread until there is capacity available in the throttle.
The acquired capacity has to be returned to the throttle by calling <span class='object_link'><a href="#release-instance_method" title="Concurrent::Throttle#release (method)">#release</a></span>.
If block is passed then the block is called after the capacity is acquired and
it is automatically released after the block is executed.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>timeout</span>
      
      
        <span class='type'>(<tt>Numeric</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the maximum time in second to wait.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>[] block to execute after the capacity is acquired</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>self</tt>, <tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><ul>
<li>When no timeout and no block it returns self</li>
<li>When no timeout and with block it returns the result of the block</li>
<li>When with timeout and no block it returns true when acquired and false when timed out</li>
<li>When with timeout and with block it returns the result of the block of nil on timing out</li>
</ul>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#release-instance_method" title="Concurrent::Throttle#release (method)">#release</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby-edge/concurrent/edge/throttle.rb', line 59</span>

<span class='kw'>def</span> <span class='id identifier rubyid_acquire'>acquire</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_event'>event</span> <span class='op'>=</span> <span class='id identifier rubyid_acquire_or_event'>acquire_or_event</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_event'>event</span>
    <span class='id identifier rubyid_within_timeout'>within_timeout</span> <span class='op'>=</span> <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_wait'>wait</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span><span class='rparen'>)</span>
    <span class='comment'># release immediately when acquired later after the timeout since it is unused
</span>    <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_on_resolution!'>on_resolution!</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbol'>:release</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_within_timeout'>within_timeout</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_within_timeout'>within_timeout</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_called'>called</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_timeout'>timeout</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_within_timeout'>within_timeout</span>
        <span class='id identifier rubyid_called'>called</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span>
      <span class='kw'>else</span>
        <span class='kw'>nil</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_within_timeout'>within_timeout</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>
      <span class='id identifier rubyid_called'>called</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span>
    <span class='kw'>else</span>
      <span class='kw'>self</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>ensure</span>
  <span class='id identifier rubyid_release'>release</span> <span class='kw'>if</span> <span class='id identifier rubyid_called'>called</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="available_capacity-instance_method">
  
    #<strong>available_capacity</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns The available capacity.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The available capacity.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby-edge/concurrent/edge/throttle.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_available_capacity'>available_capacity</span>
  <span class='id identifier rubyid_current_capacity'>current_capacity</span> <span class='op'>=</span> <span class='id identifier rubyid_capacity'>capacity</span>
  <span class='id identifier rubyid_current_capacity'>current_capacity</span> <span class='op'>&gt;=</span> <span class='int'>0</span> <span class='op'>?</span> <span class='id identifier rubyid_current_capacity'>current_capacity</span> <span class='op'>:</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="default_executor-instance_method">
  
    #<strong>default_executor</strong>  &#x21d2; <tt><span class='object_link'>ExecutorService</span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Uses executor provided by <span class='object_link'><a href="#on-instance_method" title="Concurrent::Throttle#on (method)">#on</a></span> therefore
all events and futures created using factory methods on this object will be throttled.
Overrides <span class='object_link'><a href="Promises/FactoryMethods/Configuration.html#default_executor-instance_method" title="Concurrent::Promises::FactoryMethods::Configuration#default_executor (method)">Promises::FactoryMethods::Configuration#default_executor</a></span>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>ExecutorService</span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods/Configuration.html#default_executor-instance_method" title="Concurrent::Promises::FactoryMethods::Configuration#default_executor (method)">Promises::FactoryMethods::Configuration#default_executor</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby-edge/concurrent/edge/throttle.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_default_executor'>default_executor</span>
  <span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='kw'>super</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="max_capacity-instance_method">
  
    #<strong>max_capacity</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns The maximum capacity.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The maximum capacity.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby-edge/concurrent/edge/throttle.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_max_capacity'>max_capacity</span>
  <span class='ivar'>@MaxCapacity</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on-instance_method">
  
    #<strong>on</strong>(executor = Promises::FactoryMethods.default_executor)  &#x21d2; <tt><span class='object_link'>ExecutorService</span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns An executor which wraps given executor and allows to post tasks only
as available capacity in the throttle allows.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>throttling future</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_a_future'>a_future</span><span class='period'>.</span><span class='id identifier rubyid_then_on'>then_on</span><span class='lparen'>(</span><span class='id identifier rubyid_a_throttle'>a_throttle</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='symbol'>:io</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_a_throttled_task'>a_throttled_task</span> <span class='rbrace'>}</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>executor</span>
      
      
        <span class='type'>(<tt><span class='object_link'>ExecutorService</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Promises::FactoryMethods.default_executor</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>ExecutorService</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An executor which wraps given executor and allows to post tasks only
as available capacity in the throttle allows.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160
161
162
163
164
165
166
167
168
169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby-edge/concurrent/edge/throttle.rb', line 158</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='id identifier rubyid_executor'>executor</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Promises.html" title="Concurrent::Promises (module)">Promises</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Promises/FactoryMethods.html" title="Concurrent::Promises::FactoryMethods (module)">FactoryMethods</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default_executor'><span class='object_link'><a href="Promises/FactoryMethods/Configuration.html#default_executor-instance_method" title="Concurrent::Promises::FactoryMethods::Configuration#default_executor (method)">default_executor</a></span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_current_executor'>current_executor</span><span class='comma'>,</span> <span class='id identifier rubyid_current_cache'>current_cache</span> <span class='op'>=</span> <span class='ivar'>@executor_cache</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_current_cache'>current_cache</span> <span class='kw'>if</span> <span class='id identifier rubyid_current_executor'>current_executor</span> <span class='op'>==</span> <span class='id identifier rubyid_executor'>executor</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_current_cache'>current_cache</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_current_executor'>current_executor</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'># cache first proxy
</span>    <span class='id identifier rubyid_proxy_executor'>proxy_executor</span>  <span class='op'>=</span> <span class='const'>ProxyExecutor</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='period'>.</span><span class='id identifier rubyid_executor'><span class='object_link'><a href="../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_executor'>executor</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='ivar'>@executor_cache</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_executor'>executor</span><span class='comma'>,</span> <span class='id identifier rubyid_proxy_executor'>proxy_executor</span><span class='rbracket'>]</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_proxy_executor'>proxy_executor</span>
  <span class='kw'>else</span>
    <span class='comment'># do not cache more than 1 executor
</span>    <span class='const'>ProxyExecutor</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span><span class='period'>.</span><span class='id identifier rubyid_executor'><span class='object_link'><a href="../Concurrent.html#executor-class_method" title="Concurrent.executor (method)">executor</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_executor'>executor</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="release-instance_method">
  
    #<strong>release</strong>  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Releases previously acquired capacity back to Throttle.
Has to be called exactly once for each acquired capacity.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>#acquire, #try_acquire</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby-edge/concurrent/edge/throttle.rb', line 114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_release'>release</span>
  <span class='kw'>while</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_current_capacity'>current_capacity</span> <span class='op'>=</span> <span class='id identifier rubyid_capacity'>capacity</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_compare_and_set_capacity'>compare_and_set_capacity</span> <span class='id identifier rubyid_current_capacity'>current_capacity</span><span class='comma'>,</span> <span class='id identifier rubyid_current_capacity'>current_capacity</span> <span class='op'>+</span> <span class='int'>1</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_current_capacity'>current_capacity</span> <span class='op'>&lt;</span> <span class='int'>0</span>
        <span class='comment'># release called after trigger which pushed a trigger, busy wait is ok
</span>        <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_pass'>pass</span> <span class='kw'>until</span> <span class='lparen'>(</span><span class='id identifier rubyid_trigger'>trigger</span> <span class='op'>=</span> <span class='ivar'>@Queue</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_trigger'>trigger</span><span class='period'>.</span><span class='id identifier rubyid_resolve'>resolve</span>
      <span class='kw'>end</span>
      <span class='kw'>return</span> <span class='kw'>self</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt>String</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='inspect-instance_method'>inspect</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns Short string representation.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Short string representation.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby-edge/concurrent/edge/throttle.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_format'>format</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s capacity available %d of %d&gt;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>super</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_capacity'>capacity</span><span class='comma'>,</span> <span class='ivar'>@MaxCapacity</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="try_acquire-instance_method">
  
    #<strong>try_acquire</strong>  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Tries to acquire capacity from the throttle.
Returns true when there is capacity available.
The acquired capacity has to be returned to the throttle by calling <span class='object_link'><a href="#release-instance_method" title="Concurrent::Throttle#release (method)">#release</a></span>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#release-instance_method" title="Concurrent::Throttle#release (method)">#release</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent-ruby-edge/concurrent/edge/throttle.rb', line 98</span>

<span class='kw'>def</span> <span class='id identifier rubyid_try_acquire'>try_acquire</span>
  <span class='kw'>while</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_current_capacity'>current_capacity</span> <span class='op'>=</span> <span class='id identifier rubyid_capacity'>capacity</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_current_capacity'>current_capacity</span> <span class='op'>&gt;</span> <span class='int'>0</span>
      <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_compare_and_set_capacity'>compare_and_set_capacity</span><span class='lparen'>(</span>
          <span class='id identifier rubyid_current_capacity'>current_capacity</span><span class='comma'>,</span> <span class='id identifier rubyid_current_capacity'>current_capacity</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="any_event-instance_method">
  
    #<strong>any_event</strong>(*futures_and_or_events)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#any_event-instance_method" title="Concurrent::Promises::FactoryMethods#any_event (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#any_event_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_event_on (method)">#any_event_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#any_event_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_event_on (method)">#any_event_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="any_event_on-instance_method">
  
    #<strong>any_event_on</strong>(default_executor, *futures_and_or_events)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#any_event_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_event_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates new event which becomes resolved after first of the futures_and_or_events resolves.
If resolved it does not propagate AbstractEventFuture#touch, leaving delayed
futures un-executed if they are not required any more.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>futures_and_or_events</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/AbstractEventFuture.html" title="Concurrent::Promises::AbstractEventFuture (class)">AbstractEventFuture</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="any_fulfilled_future-instance_method">
  
    #<strong>any_fulfilled_future</strong>(*futures_and_or_events)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#any_fulfilled_future-instance_method" title="Concurrent::Promises::FactoryMethods#any_fulfilled_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#any_fulfilled_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_fulfilled_future_on (method)">#any_fulfilled_future_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#any_fulfilled_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_fulfilled_future_on (method)">#any_fulfilled_future_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="any_fulfilled_future_on-instance_method">
  
    #<strong>any_fulfilled_future_on</strong>(default_executor, *futures_and_or_events)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#any_fulfilled_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_fulfilled_future_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates new future which is resolved after first of futures_and_or_events is fulfilled.
Its result equals result of the first resolved future or if all futures_and_or_events reject,
it has reason of the last resolved future.
If resolved it does not propagate AbstractEventFuture#touch, leaving delayed
futures un-executed if they are not required any more.
If event is supplied, which does not have value and can be only resolved, it&#39;s
represented as <code>:fulfilled</code> with value <code>nil</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>futures_and_or_events</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/AbstractEventFuture.html" title="Concurrent::Promises::AbstractEventFuture (class)">AbstractEventFuture</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="any_resolved_future-instance_method">
  
    #<strong>any_resolved_future</strong>(*futures_and_or_events)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='any-instance_method'>any</span></span>
    </span>
  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#any_resolved_future-instance_method" title="Concurrent::Promises::FactoryMethods#any_resolved_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#any_resolved_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_resolved_future_on (method)">#any_resolved_future_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#any_resolved_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_resolved_future_on (method)">#any_resolved_future_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="any_resolved_future_on-instance_method">
  
    #<strong>any_resolved_future_on</strong>(default_executor, *futures_and_or_events)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#any_resolved_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#any_resolved_future_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates new future which is resolved after first futures_and_or_events is resolved.
Its result equals result of the first resolved future.
If resolved it does not propagate AbstractEventFuture#touch, leaving delayed
futures un-executed if they are not required any more.
If event is supplied, which does not have value and can be only resolved, it&#39;s
represented as <code>:fulfilled</code> with value <code>nil</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>futures_and_or_events</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/AbstractEventFuture.html" title="Concurrent::Promises::AbstractEventFuture (class)">AbstractEventFuture</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delay-instance_method">
  
    #<strong>delay</strong>(*args, &amp;task)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>, <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#delay-instance_method" title="Concurrent::Promises::FactoryMethods#delay (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#delay_on-instance_method" title="Concurrent::Promises::FactoryMethods#delay_on (method)">#delay_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>, <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#delay_on-instance_method" title="Concurrent::Promises::FactoryMethods#delay_on (method)">#delay_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delay_on-instance_method">
  
    
      <span class="overload">#<strong>delay_on</strong>(default_executor, *args) {|*args| ... } &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> </span>
    
      <span class="overload">#<strong>delay_on</strong>(default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> </span>
    
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#delay_on-instance_method" title="Concurrent::Promises::FactoryMethods#delay_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates new event or future which is resolved only after it is touched,
see AbstractEventFuture#touch.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>delay_on</strong>(default_executor, *args) {|*args| ... } &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>If task is provided it returns a <span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Concurrent::Promises::Future</a></span> representing the result of the task.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>arguments which are passed to the task when it&#39;s executed.
(It might be prepended with other arguments, see the @yeild section).</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>*args</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>to the task.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>will become result of the returned Future.
Its returned value becomes <span class='object_link'><a href="Promises/Future.html#value-instance_method" title="Concurrent::Promises::Future#value (method)">Concurrent::Promises::Future#value</a></span> fulfilling it,
raised exception becomes <span class='object_link'><a href="Promises/Future.html#reason-instance_method" title="Concurrent::Promises::Future#reason (method)">Concurrent::Promises::Future#reason</a></span> rejecting it.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>delay_on</strong>(default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>If no task is provided, it returns an <span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
</ul>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fulfilled_future-instance_method">
  
    #<strong>fulfilled_future</strong>(value, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#fulfilled_future-instance_method" title="Concurrent::Promises::FactoryMethods#fulfilled_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates resolved future with will be fulfilled with the given value.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.default_executor</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="future-instance_method">
  
    #<strong>future</strong>(*args, &amp;task)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#future-instance_method" title="Concurrent::Promises::FactoryMethods#future (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#future_on-instance_method" title="Concurrent::Promises::FactoryMethods#future_on (method)">#future_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#future_on-instance_method" title="Concurrent::Promises::FactoryMethods#future_on (method)">#future_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="future_on-instance_method">
  
    #<strong>future_on</strong>(default_executor, *args) {|*args| ... } &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#future_on-instance_method" title="Concurrent::Promises::FactoryMethods#future_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Constructs new Future which will be resolved after block is evaluated on default executor.
Evaluation begins immediately.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>arguments which are passed to the task when it&#39;s executed.
(It might be prepended with other arguments, see the @yeild section).</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>*args</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>to the task.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>will become result of the returned Future.
Its returned value becomes <span class='object_link'><a href="Promises/Future.html#value-instance_method" title="Concurrent::Promises::Future#value (method)">Concurrent::Promises::Future#value</a></span> fulfilling it,
raised exception becomes <span class='object_link'><a href="Promises/Future.html#reason-instance_method" title="Concurrent::Promises::Future#reason (method)">Concurrent::Promises::Future#reason</a></span> rejecting it.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="make_future-instance_method">
  
    
      <span class="overload">#<strong>make_future</strong>(nil, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> </span>
    
      <span class="overload">#<strong>make_future</strong>(a_future, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> </span>
    
      <span class="overload">#<strong>make_future</strong>(an_event, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> </span>
    
      <span class="overload">#<strong>make_future</strong>(exception, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> </span>
    
      <span class="overload">#<strong>make_future</strong>(value, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> </span>
    
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#make_future-instance_method" title="Concurrent::Promises::FactoryMethods#make_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>General constructor. Behaves differently based on the argument&#39;s type. It&#39;s provided for convenience
but it&#39;s better to be explicit.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>make_future</strong>(nil, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Returns resolved event.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>nil</span>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>resolved event.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>make_future</strong>(a_future, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Returns a future which will be resolved when a_future is.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>a_future</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a future which will be resolved when a_future is.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>make_future</strong>(an_event, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Returns an event which will be resolved when an_event is.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>an_event</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>an event which will be resolved when an_event is.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>make_future</strong>(exception, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Returns a rejected future with the exception as its reason.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>exception</span>
      
      
        <span class='type'>(<tt>Exception</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a rejected future with the exception as its reason.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>make_future</strong>(value, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Returns a fulfilled future with the value.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when none of the above overloads fits</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a fulfilled future with the value.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.default_executor</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>, <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>resolved_event, fulfilled_future</li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rejected_future-instance_method">
  
    #<strong>rejected_future</strong>(reason, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#rejected_future-instance_method" title="Concurrent::Promises::FactoryMethods#rejected_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates resolved future with will be rejected with the given reason.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.default_executor</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>reason</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolvable_event-instance_method">
  
    #<strong>resolvable_event</strong>  &#x21d2; <tt><span class='object_link'><a href="Promises/ResolvableEvent.html" title="Concurrent::Promises::ResolvableEvent (class)">ResolvableEvent</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_event-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_event (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_event_on-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_event_on (method)">#resolvable_event_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/ResolvableEvent.html" title="Concurrent::Promises::ResolvableEvent (class)">ResolvableEvent</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_event_on-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_event_on (method)">#resolvable_event_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolvable_event_on-instance_method">
  
    #<strong>resolvable_event_on</strong>(default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/ResolvableEvent.html" title="Concurrent::Promises::ResolvableEvent (class)">ResolvableEvent</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_event_on-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_event_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Created resolvable event, user is responsible for resolving the event once by
<span class='object_link'><a href="Promises/ResolvableEvent.html#resolve-instance_method" title="Concurrent::Promises::ResolvableEvent#resolve (method)">ResolvableEvent#resolve</a></span>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.default_executor</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/ResolvableEvent.html" title="Concurrent::Promises::ResolvableEvent (class)">ResolvableEvent</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolvable_future-instance_method">
  
    #<strong>resolvable_future</strong>  &#x21d2; <tt><span class='object_link'><a href="Promises/ResolvableFuture.html" title="Concurrent::Promises::ResolvableFuture (class)">ResolvableFuture</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_future-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_future_on (method)">#resolvable_future_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/ResolvableFuture.html" title="Concurrent::Promises::ResolvableFuture (class)">ResolvableFuture</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_future_on (method)">#resolvable_future_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolvable_future_on-instance_method">
  
    #<strong>resolvable_future_on</strong>(default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/ResolvableFuture.html" title="Concurrent::Promises::ResolvableFuture (class)">ResolvableFuture</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#resolvable_future_on-instance_method" title="Concurrent::Promises::FactoryMethods#resolvable_future_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates resolvable future, user is responsible for resolving the future once by
<span class='object_link'><a href="Promises/ResolvableFuture.html#resolve-instance_method" title="Concurrent::Promises::ResolvableFuture#resolve (method)">ResolvableFuture#resolve</a></span>, <span class='object_link'><a href="Promises/ResolvableFuture.html#fulfill-instance_method" title="Concurrent::Promises::ResolvableFuture#fulfill (method)">ResolvableFuture#fulfill</a></span>,
or <span class='object_link'><a href="Promises/ResolvableFuture.html#reject-instance_method" title="Concurrent::Promises::ResolvableFuture#reject (method)">ResolvableFuture#reject</a></span></p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.default_executor</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/ResolvableFuture.html" title="Concurrent::Promises::ResolvableFuture (class)">ResolvableFuture</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolved_event-instance_method">
  
    #<strong>resolved_event</strong>(default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#resolved_event-instance_method" title="Concurrent::Promises::FactoryMethods#resolved_event (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates resolved event.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.default_executor</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolved_future-instance_method">
  
    #<strong>resolved_future</strong>(fulfilled, value, reason, default_executor = self.default_executor)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#resolved_future-instance_method" title="Concurrent::Promises::FactoryMethods#resolved_future (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates resolved future with will be either fulfilled with the given value or rejection with
the given reason.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>fulfilled</span>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>reason</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.default_executor</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="schedule-instance_method">
  
    #<strong>schedule</strong>(intended_time, *args, &amp;task)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>, <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#schedule-instance_method" title="Concurrent::Promises::FactoryMethods#schedule (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#schedule_on-instance_method" title="Concurrent::Promises::FactoryMethods#schedule_on (method)">#schedule_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>, <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#schedule_on-instance_method" title="Concurrent::Promises::FactoryMethods#schedule_on (method)">#schedule_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="schedule_on-instance_method">
  
    
      <span class="overload">#<strong>schedule_on</strong>(default_executor, intended_time, *args) {|*args| ... } &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> </span>
    
      <span class="overload">#<strong>schedule_on</strong>(default_executor, intended_time)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> </span>
    
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#schedule_on-instance_method" title="Concurrent::Promises::FactoryMethods#schedule_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates new event or future which is resolved in intended_time.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>schedule_on</strong>(default_executor, intended_time, *args) {|*args| ... } &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>If task is provided it returns a <span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Concurrent::Promises::Future</a></span> representing the result of the task.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>arguments which are passed to the task when it&#39;s executed.
(It might be prepended with other arguments, see the @yeild section).</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>*args</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>to the task.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>will become result of the returned Future.
Its returned value becomes <span class='object_link'><a href="Promises/Future.html#value-instance_method" title="Concurrent::Promises::Future#value (method)">Concurrent::Promises::Future#value</a></span> fulfilling it,
raised exception becomes <span class='object_link'><a href="Promises/Future.html#reason-instance_method" title="Concurrent::Promises::Future#reason (method)">Concurrent::Promises::Future#reason</a></span> rejecting it.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>schedule_on</strong>(default_executor, intended_time)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>If no task is provided, it returns an <span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>intended_time</span>
      
      
        <span class='type'>(<tt>Numeric</tt>, <tt>Time</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><code>Numeric</code> means to run in <code>intended_time</code> seconds.
<code>Time</code> means to run on <code>intended_time</code>.</p>
</div>
      
    </li>
  
</ul>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zip_events-instance_method">
  
    #<strong>zip_events</strong>(*futures_and_or_events)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#zip_events-instance_method" title="Concurrent::Promises::FactoryMethods#zip_events (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#zip_events_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_events_on (method)">#zip_events_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#zip_events_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_events_on (method)">#zip_events_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zip_events_on-instance_method">
  
    #<strong>zip_events_on</strong>(default_executor, *futures_and_or_events)  &#x21d2; <tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#zip_events_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_events_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates new event which is resolved after all futures_and_or_events are resolved.
(Future is resolved when fulfilled or rejected.)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>futures_and_or_events</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/AbstractEventFuture.html" title="Concurrent::Promises::AbstractEventFuture (class)">AbstractEventFuture</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Event.html" title="Concurrent::Promises::Event (class)">Event</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zip_futures-instance_method">
  
    #<strong>zip_futures</strong>(*futures_and_or_events)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='zip-instance_method'>zip</span></span>
    </span>
  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_on (method)">#zip_futures_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_on (method)">#zip_futures_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zip_futures_on-instance_method">
  
    #<strong>zip_futures_on</strong>(default_executor, *futures_and_or_events)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates new future which is resolved after all futures_and_or_events are resolved.
Its value is array of zipped future values. Its reason is array of reasons for rejection.
If there is an error it rejects.
If event is supplied, which does not have value and can be only resolved, it&#39;s
represented as <code>:fulfilled</code> with value <code>nil</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>futures_and_or_events</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/AbstractEventFuture.html" title="Concurrent::Promises::AbstractEventFuture (class)">AbstractEventFuture</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zip_futures_over-instance_method">
  
    #<strong>zip_futures_over</strong>(enumerable, &amp;future_factory)  &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_over-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_over (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p><strong>Edge Features</strong> are under active development and may change frequently.</p>

<ul>
<li>  Deprecations are not added before incompatible changes.</li>
<li>  Edge version: <em>major</em> is always 0, <em>minor</em> bump means incompatible change,
<em>patch</em> bump means compatible change.</li>
<li>  Edge features may also lack tests and documentation.</li>
<li>  Features developed in <code>concurrent-ruby-edge</code> are expected to move
to <code>concurrent-ruby</code> when finalised.</li>
</ul>
</div>
  </div>

<p>Shortcut of <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_over_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_over_on (method)">#zip_futures_over_on</a></span> with default <code>:io</code> executor supplied.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_over_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_over_on (method)">#zip_futures_over_on</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="zip_futures_over_on-instance_method">
  
    #<strong>zip_futures_over_on</strong>(default_executor, enumerable) {|element| ... } &#x21d2; <tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Promises/FactoryMethods.html#zip_futures_over_on-instance_method" title="Concurrent::Promises::FactoryMethods#zip_futures_over_on (method)">Promises::FactoryMethods</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p><strong>Edge Features</strong> are under active development and may change frequently.</p>

<ul>
<li>  Deprecations are not added before incompatible changes.</li>
<li>  Edge version: <em>major</em> is always 0, <em>minor</em> bump means incompatible change,
<em>patch</em> bump means compatible change.</li>
<li>  Edge features may also lack tests and documentation.</li>
<li>  Features developed in <code>concurrent-ruby-edge</code> are expected to move
to <code>concurrent-ruby</code> when finalised.</li>
</ul>
</div>
  </div>

<p>Creates new future which is resolved after all the futures created by future_factory from
enumerable elements are resolved. Simplified it does:
<code>zip(*enumerable.map { |e| future e, &amp;future_factory })</code></p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='comment'># `#succ` calls are executed in parallel
</span><span class='id identifier rubyid_zip_futures_over_on'>zip_futures_over_on</span><span class='lparen'>(</span><span class='symbol'>:io</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbol'>:succ</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_value!'>value!</span> <span class='comment'># =&gt; [2, 3]</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>default_executor</span>
      
      
        <span class='type'>(<tt>Executor</tt>, <tt>:io</tt>, <tt>:fast</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Instance of an executor or a name of the
global executor. Default executor propagates to chained futures unless overridden with
executor parameter or changed with <span class='object_link'><a href="Promises/AbstractEventFuture.html#with_default_executor-instance_method" title="Concurrent::Promises::AbstractEventFuture#with_default_executor (method)">AbstractEventFuture#with_default_executor</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>enumerable</span>
      
      
        <span class='type'>(<tt>Enumerable</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>a task to be executed in future</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>from enumerable</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a value of the future</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Promises/Future.html" title="Concurrent::Promises::Future (class)">Future</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_blank">yard</a>.
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57940973-1', 'auto');
  ga('send', 'pageview');

</script>

    </div>
  </body>
</html>